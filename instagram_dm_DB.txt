CREATE TABLE IF NOT EXISTS MESSAGES (
    MESSAGE_ID INT NOT NULL AUTO_INCREMENT,
    SENDER_ID VARCHAR(15) NOT NULL, -- 메시지를 보낸 사용자 ID (외래 키)
    RECEIVER_ID VARCHAR(15) NOT NULL, -- 메시지를 받는 사용자 ID (외래 키)
    CONTENT TEXT NOT NULL, -- 메시지 내용
    SENT_AT DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, -- 메시지 전송 시간
    IS_READ BOOLEAN NOT NULL DEFAULT FALSE, -- 메시지 읽음 여부
    PRIMARY KEY (MESSAGE_ID),
    FOREIGN KEY (SENDER_ID) REFERENCES USERS(ID) ON DELETE CASCADE,
    FOREIGN KEY (RECEIVER_ID) REFERENCES USERS(ID) ON DELETE CASCADE,
    INDEX idx_sender_id (SENDER_ID),
    INDEX idx_receiver_id (RECEIVER_ID)
) ENGINE=InnoDB;